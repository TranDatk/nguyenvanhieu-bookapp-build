module.exports=[22311,a=>{"use strict";var b=a.i(51112),c=a.i(14206),d=a.i(7879),e=a.i(59485),f=a.i(63024),g=a.i(67759),h=a.i(36491),i=a.i(86767),j=a.i(10758),k=a.i(7283),l=a.i(49027),m=a.i(46751),n=a.i(10152),o=a.i(75593),p=a.i(71728),q=a.i(63405),r=a.i(13218),s=a.i(91140),t=a.i(34386),u=a.i(30935),v=a.i(43216),w=a.i(46919),x=a.i(3272),y=a.i(51998),z=a.i(86453);let A=(0,z.createServerReference)("40e2a0f2ec62590c2cfae77c489b9d092d0142b4a6",z.callServer,void 0,z.findSourceMapURL,"deleteArticleAction");function B(){let{isAdmin:a,isLoading:z}=(0,e.useAuth)(),B=(0,g.useRouter)(),C=(0,g.useSearchParams)(),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)(0),[H,I]=(0,c.useState)(0),[J,K]=(0,c.useState)(!0),L=C.get("search")||"",M=C.get("category")||"all",N=C.get("status")||"all",O=(()=>{let a=C.get("page");if(a){let b=parseInt(a,10);return!isNaN(b)&&b>0?b:1}return 1})(),[P,Q]=(0,c.useState)(L),[R,S]=(0,c.useState)(L),[T,U]=(0,c.useState)(M),[V,W]=(0,c.useState)(N),[X,Y]=(0,c.useState)(M),[Z,$]=(0,c.useState)(N),[_,aa]=(0,c.useState)(null),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(null),[af,ag]=(0,c.useState)(O),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)(!1),[al,am]=(0,c.useState)(null),[an,ao]=(0,c.useState)(""),[ap,aq]=(0,c.useState)(""),[ar,as]=(0,c.useState)(null),at=(0,c.useRef)(!1),au=(0,c.useRef)(!0);(0,c.useEffect)(()=>{if(at.current){at.current=!1;return}let a=C.get("search")||"",b=C.get("category")||"all",c=C.get("status")||"all",d=C.get("page");if(a!==R&&(Q(a),S(a)),b!==X&&(U(b),Y(b)),c!==Z&&(W(c),$(c)),d){let a=parseInt(d,10);!isNaN(a)&&a>0&&a!==af&&ag(a)}else 1===af||au.current||ag(1)},[C]);let av=c.default.useCallback(a=>{let b=new URLSearchParams(C.toString());void 0!==a.search&&(a.search?b.set("search",a.search):b.delete("search")),void 0!==a.category&&(a.category&&"all"!==a.category?b.set("category",a.category):b.delete("category")),void 0!==a.status&&(a.status&&"all"!==a.status?b.set("status",a.status):b.delete("status")),void 0!==a.page&&(a.page>1?b.set("page",a.page.toString()):b.delete("page")),B.replace(`/admin/articles?${b.toString()}`,{scroll:!1})},[C,B]),aw=c.default.useCallback(async()=>{K(!0);try{let a=new URLSearchParams({page:af.toString(),limit:"10"});R&&a.append("search",R),X&&"all"!==X&&a.append("category",X),Z&&"all"!==Z&&a.append("status",Z);let b=await fetch(`/api/articles?${a.toString()}`);if(!b.ok)throw Error("Failed to fetch articles");let c=await b.json(),d=c.articles||[];E(d),G(c.total||0),I(c.totalPages||0)}catch(a){console.error("Error fetching articles:",a),p.toast.error("Không thể tải danh sách bài viết")}finally{K(!1)}},[af,R,X,Z]);(0,c.useEffect)(()=>{aw()},[aw]),(0,c.useEffect)(()=>{if(au.current){au.current=!1;return}at.current=!0,av({search:R,category:X,status:Z,page:af})},[af,R,X,Z]);let ax=()=>{S(P),ag(1)},ay=(0,c.useRef)(!0);(0,c.useEffect)(()=>{if(ay.current){ay.current=!1;return}ag(1)},[X,Z]);let{data:az=[]}=(0,f.useArticleCategories)(),aA=(0,f.useCreateArticleCategory)(),aB=(0,f.useUpdateArticleCategory)(),aC=(0,f.useDeleteArticleCategory)(),aD=az.length>0?az:[],aE=async()=>{if(!al||!ap.trim())return void p.toast.error("Vui lòng nhập tên chuyên mục");try{await aB.mutateAsync({oldCategory:al,newCategory:ap.trim()}),p.toast.success("Cập nhật chuyên mục thành công!"),am(null),aq("")}catch(a){p.toast.error("Đã có lỗi xảy ra khi cập nhật chuyên mục.")}},aF=async()=>{if(ar)try{await aC.mutateAsync(ar),p.toast.success("Xóa chuyên mục thành công!"),as(null)}catch(a){p.toast.error("Đã có lỗi xảy ra khi xóa chuyên mục.")}},aG=(af-1)*10,aH=Math.min(aG+10,F);if(z)return(0,b.jsx)(d.AdminLayout,{children:(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600",children:"Đang tải..."})]})})});if(!a)return(0,b.jsx)(d.AdminLayout,{children:(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center max-w-md",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-red-500 mb-2",children:"Truy cập bị từ chối"}),(0,b.jsx)("p",{className:"text-slate-600 mb-4",children:"Bạn không có quyền truy cập trang này."}),(0,b.jsx)("button",{onClick:()=>B.push("/login"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"Đăng nhập với tài khoản Admin"})]})})});let aI=async a=>{ac(!0);let b=1===D.length;try{let c=await A(a);c.success?(await aw(),b&&af>1&&ag(a=>Math.max(1,a-1)),B.refresh(),aa(null),p.toast.success("Xóa bài viết thành công!")):(p.toast.error(c.error||"Đã có lỗi xảy ra khi xóa bài viết."),aa(null))}catch(a){console.error("Error deleting article:",a),p.toast.error("Đã có lỗi xảy ra khi xóa bài viết."),aa(null)}finally{ac(!1)}};return(0,b.jsx)(d.AdminLayout,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Quản lý bài viết"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-slate-600 mt-1",children:"Danh sách và quản lý các bài viết trên hệ thống"})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:[(0,b.jsxs)(q.Button,{variant:"outline",onClick:()=>ai(!0),className:"w-full sm:w-auto",children:[(0,b.jsx)(m.Tag,{size:18}),(0,b.jsx)("span",{className:"ml-2",children:"Quản lý chuyên mục"})]}),(0,b.jsxs)(q.Button,{onClick:()=>B.push("/admin/articles/new"),className:"w-full sm:w-auto",children:[(0,b.jsx)(i.Plus,{size:18}),(0,b.jsx)("span",{className:"ml-2",children:"Viết bài mới"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)(x.Card,{children:(0,b.jsxs)(x.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-slate-600",children:"Tổng số bài viết"}),(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-blue-600 font-bold",children:F})})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:F.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"+12% so với tháng trước"})]})}),(0,b.jsx)(x.Card,{children:(0,b.jsxs)(x.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-slate-600",children:"Đã xuất bản"}),(0,b.jsx)("div",{className:"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-green-600 font-bold",children:"✓"})})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:F.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"+5% so với tháng trước"})]})}),(0,b.jsx)(x.Card,{children:(0,b.jsxs)(x.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-slate-600",children:"Chờ duyệt"}),(0,b.jsx)("div",{className:"w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-orange-600 font-bold",children:"•"})})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:0}),(0,b.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"-2% so với tháng trước"})]})})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(h.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 z-10",size:20}),(0,b.jsx)(r.Input,{type:"text",placeholder:"Tìm kiếm theo tiêu đề...",value:P,onChange:a=>Q(a.target.value),onKeyPress:a=>{"Enter"===a.key&&ax()},className:"pl-10"})]}),(0,b.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,b.jsxs)(q.Button,{variant:"outline",className:"flex-1 sm:flex-initial cursor-pointer",onClick:ax,children:[(0,b.jsx)(h.Search,{size:18}),(0,b.jsx)("span",{className:"ml-2",children:"Tìm kiếm"})]}),(R||P)&&(0,b.jsxs)(q.Button,{variant:"outline",className:"cursor-pointer",onClick:()=>{Q(""),S(""),ag(1)},title:"Bỏ tìm kiếm",children:[(0,b.jsx)(n.X,{size:18}),(0,b.jsx)("span",{className:"ml-2 hidden sm:inline",children:"Bỏ tìm kiếm"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)(t.Select,{value:T,onValueChange:U,children:[(0,b.jsx)(t.SelectTrigger,{className:"w-full sm:w-[200px]",children:(0,b.jsx)(t.SelectValue,{placeholder:"Tất cả chuyên mục"})}),(0,b.jsxs)(t.SelectContent,{children:[(0,b.jsx)(t.SelectItem,{value:"all",children:"Tất cả chuyên mục"}),aD.map(a=>(0,b.jsx)(t.SelectItem,{value:a,children:a},a))]})]}),(0,b.jsxs)(t.Select,{value:V,onValueChange:W,children:[(0,b.jsx)(t.SelectTrigger,{className:"w-full sm:w-[180px]",children:(0,b.jsx)(t.SelectValue,{placeholder:"Trạng thái"})}),(0,b.jsxs)(t.SelectContent,{children:[(0,b.jsx)(t.SelectItem,{value:"all",children:"Tất cả trạng thái"}),(0,b.jsx)(t.SelectItem,{value:"published",children:"Đã xuất bản"}),(0,b.jsx)(t.SelectItem,{value:"draft",children:"Bản nháp"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,b.jsx)(q.Button,{variant:"outline",className:"flex-1 sm:flex-initial cursor-pointer",onClick:()=>{Y(T),$(V),ag(1)},children:"Áp dụng bộ lọc"}),("all"!==X||"all"!==Z)&&(0,b.jsxs)(q.Button,{variant:"outline",className:"cursor-pointer",onClick:()=>{U("all"),W("all"),Y("all"),$("all"),ag(1)},title:"Bỏ bộ lọc",children:[(0,b.jsx)(n.X,{size:18}),(0,b.jsx)("span",{className:"ml-2 hidden sm:inline",children:"Bỏ bộ lọc"})]})]})]})]}),(0,b.jsxs)(x.Card,{children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(u.Table,{children:[(0,b.jsx)(u.TableHeader,{children:(0,b.jsxs)(u.TableRow,{children:[(0,b.jsx)(u.TableHead,{children:"Bài viết"}),(0,b.jsx)(u.TableHead,{className:"hidden md:table-cell",children:"Tác giả"}),(0,b.jsx)(u.TableHead,{className:"hidden lg:table-cell",children:"Trạng thái"}),(0,b.jsx)(u.TableHead,{className:"hidden sm:table-cell",children:"Lượt xem"}),(0,b.jsx)(u.TableHead,{className:"hidden md:table-cell",children:"Ngày tạo"}),(0,b.jsx)(u.TableHead,{className:"text-right",children:"Hành động"})]})}),(0,b.jsx)(u.TableBody,{children:J?(0,b.jsx)(u.TableRow,{children:(0,b.jsx)(u.TableCell,{colSpan:6,className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-slate-500",children:"Đang tải..."})})}):0===D.length?(0,b.jsx)(u.TableRow,{children:(0,b.jsx)(u.TableCell,{colSpan:6,className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-slate-500",children:"Không có bài viết nào"})})}):D.map(a=>(0,b.jsxs)(u.TableRow,{children:[(0,b.jsx)(u.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-9 sm:w-16 sm:h-12 bg-slate-200 rounded overflow-hidden shrink-0",children:(0,b.jsx)("img",{src:a.imageUrl,alt:a.title,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("h3",{className:"font-medium text-slate-900 text-sm sm:text-base truncate",children:a.title}),(0,b.jsx)(w.Badge,{variant:"secondary",className:"mt-1 text-xs",children:a.category})]})]})}),(0,b.jsx)(u.TableCell,{className:"hidden md:table-cell",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(y.Avatar,{className:"h-8 w-8",children:(0,b.jsx)(y.AvatarFallback,{className:"bg-blue-600 text-white text-xs",children:"A"})}),(0,b.jsx)("span",{className:"text-sm text-slate-600",children:"Admin"})]})}),(0,b.jsx)(u.TableCell,{className:"hidden lg:table-cell",children:"draft"===a.status?(0,b.jsx)(w.Badge,{variant:"outline",className:"bg-yellow-100 text-yellow-700 border-yellow-200 text-xs",children:"Bản nháp"}):(0,b.jsx)(w.Badge,{variant:"outline",className:"bg-green-100 text-green-700 border-green-200 text-xs",children:"Đã xuất bản"})}),(0,b.jsx)(u.TableCell,{className:"text-xs sm:text-sm text-slate-600 hidden sm:table-cell",children:a.views||0}),(0,b.jsx)(u.TableCell,{className:"text-xs sm:text-sm text-slate-600 hidden md:table-cell",children:new Date(a.publishDate).toLocaleDateString("vi-VN")}),(0,b.jsx)(u.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[(0,b.jsx)(q.Button,{variant:"ghost",size:"icon",title:"Xem",onClick:()=>ae(a),className:"h-8 w-8 sm:h-10 sm:w-10",children:(0,b.jsx)(j.Eye,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),(0,b.jsx)(q.Button,{variant:"ghost",size:"icon",title:"Sửa",onClick:()=>B.push(`/admin/articles/${a.id}/edit`),className:"h-8 w-8 sm:h-10 sm:w-10",children:(0,b.jsx)(k.Edit,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),(0,b.jsx)(q.Button,{variant:"ghost",size:"icon",onClick:()=>aa(a.id),title:"Xóa",className:"h-8 w-8 sm:h-10 sm:w-10",children:(0,b.jsx)(l.Trash2,{size:16,className:"sm:w-[18px] sm:h-[18px]"})})]})})]},a.id))})]})}),(0,b.jsxs)("div",{className:"px-4 sm:px-6 py-4 border-t border-slate-200 flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-slate-600 text-center sm:text-left",children:F>0?(0,b.jsxs)(b.Fragment,{children:["Hiển thị ",aG+1,"-",aH," trên ",F," kết quả"]}):(0,b.jsx)(b.Fragment,{children:"Không có kết quả"})}),H>1&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Button,{variant:"outline",size:"icon",disabled:1===af,onClick:()=>ag(a=>Math.max(1,a-1)),className:"h-8 w-8 sm:h-9 sm:w-9 cursor-pointer",children:"←"}),(0,b.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:H},(a,b)=>b+1).map(a=>1===a||a===H||a>=af-1&&a<=af+1?(0,b.jsx)(q.Button,{size:"sm",variant:af===a?"default":"outline",onClick:()=>ag(a),className:"h-8 px-3 sm:h-9 sm:px-4 cursor-pointer ",children:a},a):a===af-2||a===af+2?(0,b.jsx)("span",{className:"px-2 text-slate-500",children:"..."},a):null)}),(0,b.jsx)(q.Button,{variant:"outline",size:"icon",disabled:af===H,onClick:()=>ag(a=>Math.min(H,a+1)),className:"h-8 w-8 sm:h-9 sm:w-9 cursor-pointer",children:"→"})]})]})]}),(0,b.jsx)(v.Dialog,{open:!!ad,onOpenChange:a=>!a&&ae(null),children:(0,b.jsxs)(v.DialogContent,{className:"w-[95vw] sm:w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(v.DialogHeader,{children:[(0,b.jsx)(v.DialogTitle,{children:"Thông tin bài viết"}),(0,b.jsx)(v.DialogDescription,{children:"Chi tiết thông tin của bài viết"})]}),ad&&(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6",children:[(0,b.jsx)("div",{className:"w-full sm:w-64 h-48 bg-slate-200 rounded-lg overflow-hidden shrink-0",children:(0,b.jsx)("img",{src:ad.imageUrl,alt:ad.title,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:ad.title}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)(w.Badge,{variant:"secondary",children:ad.category}),(0,b.jsxs)(w.Badge,{variant:"outline",children:["Ngày: ",new Date(ad.publishDate).toLocaleDateString("vi-VN")]})]})]}),ad.summary&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Tóm tắt:"}),(0,b.jsx)("p",{className:"text-slate-700 leading-relaxed",children:ad.summary})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-slate-900 mb-3",children:"Nội dung"}),(0,b.jsx)("div",{className:"text-slate-700 leading-relaxed max-h-96 overflow-y-auto",children:(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:ad.content},className:"prose prose-sm max-w-none"})})]})]}),(0,b.jsxs)(v.DialogFooter,{children:[(0,b.jsx)(q.Button,{variant:"outline",onClick:()=>ae(null),children:"Đóng"}),ad&&(0,b.jsx)(q.Button,{asChild:!0,children:(0,b.jsx)(o.default,{href:`/articles/${ad.id}`,target:"_blank",children:"Xem trang chi tiết"})})]})]})}),(0,b.jsx)(v.Dialog,{open:ah&&!aj,onOpenChange:a=>{a||aj||ai(!1)},children:(0,b.jsxs)(v.DialogContent,{className:"w-[95vw] sm:w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,b.jsxs)(v.DialogHeader,{children:[(0,b.jsx)(v.DialogTitle,{children:"Quản lý chuyên mục"}),(0,b.jsx)(v.DialogDescription,{children:"Xem, thêm, sửa và xóa các chuyên mục bài viết"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[(0,b.jsxs)("h3",{className:"font-semibold text-sm sm:text-base",children:["Danh sách chuyên mục (",az.length,")"]}),(0,b.jsxs)(q.Button,{onClick:()=>ak(!0),className:"w-full sm:w-auto",children:[(0,b.jsx)(i.Plus,{size:18}),(0,b.jsx)("span",{className:"ml-2",children:"Thêm chuyên mục"})]})]}),(0,b.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===az.length?(0,b.jsx)("p",{className:"text-sm text-slate-500 text-center py-8",children:"Chưa có chuyên mục nào"}):az.map(a=>(0,b.jsx)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-slate-50",children:al===a?(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-1",children:[(0,b.jsx)(r.Input,{value:ap,onChange:a=>aq(a.target.value),className:"flex-1",onKeyDown:a=>{"Enter"===a.key&&aE(),"Escape"===a.key&&(am(null),aq(""))}}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(q.Button,{size:"sm",onClick:aE,className:"flex-1 sm:flex-initial",children:"Lưu"}),(0,b.jsx)(q.Button,{size:"sm",variant:"outline",onClick:()=>{am(null),aq("")},className:"flex-1 sm:flex-initial",children:"Hủy"})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"font-medium text-sm sm:text-base truncate flex-1",children:a}),(0,b.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[(0,b.jsx)(q.Button,{size:"sm",variant:"ghost",onClick:()=>{am(a),aq(a)},className:"h-8 w-8 p-0",children:(0,b.jsx)(k.Edit,{size:16})}),(0,b.jsx)(q.Button,{size:"sm",variant:"ghost",onClick:()=>as(a),className:"h-8 w-8 p-0",children:(0,b.jsx)(l.Trash2,{size:16})})]})]})},a))})]}),(0,b.jsx)(v.DialogFooter,{children:(0,b.jsx)(q.Button,{variant:"outline",onClick:()=>ai(!1),children:"Đóng"})})]})}),(0,b.jsx)(v.Dialog,{open:aj,onOpenChange:ak,children:(0,b.jsxs)(v.DialogContent,{children:[(0,b.jsxs)(v.DialogHeader,{children:[(0,b.jsx)(v.DialogTitle,{children:"Thêm chuyên mục mới"}),(0,b.jsx)(v.DialogDescription,{children:"Nhập tên chuyên mục mới để thêm vào hệ thống"})]}),(0,b.jsx)("div",{className:"space-y-4 py-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(s.Label,{htmlFor:"newCategory",children:"Tên chuyên mục"}),(0,b.jsx)(r.Input,{id:"newCategory",type:"text",value:an,onChange:a=>ao(a.target.value),placeholder:"Ví dụ: Văn Học, Nghệ Thuật...",onKeyDown:async a=>{if("Enter"===a.key&&an.trim())try{await aA.mutateAsync(an.trim()),p.toast.success("Thêm chuyên mục thành công!"),ao(""),ak(!1)}catch(a){p.toast.error("Đã có lỗi xảy ra khi thêm chuyên mục.")}}})]})}),(0,b.jsxs)(v.DialogFooter,{children:[(0,b.jsx)(q.Button,{variant:"outline",onClick:()=>{ak(!1),ao("")},children:"Hủy"}),(0,b.jsx)(q.Button,{onClick:async()=>{if(!an.trim())return void p.toast.error("Vui lòng nhập tên chuyên mục");try{await aA.mutateAsync(an.trim()),p.toast.success("Thêm chuyên mục thành công!"),ao(""),ak(!1)}catch(a){p.toast.error("Đã có lỗi xảy ra khi thêm chuyên mục.")}},disabled:aA.isPending,children:aA.isPending?"Đang thêm...":"Thêm chuyên mục"})]})]})}),(0,b.jsx)(v.Dialog,{open:!!ar,onOpenChange:a=>!a&&as(null),children:(0,b.jsxs)(v.DialogContent,{children:[(0,b.jsxs)(v.DialogHeader,{children:[(0,b.jsx)(v.DialogTitle,{children:"Xác nhận xóa chuyên mục"}),(0,b.jsxs)(v.DialogDescription,{children:['Bạn có chắc chắn muốn xóa chuyên mục "',ar,'"? Hành động này không thể hoàn tác.']})]}),(0,b.jsxs)(v.DialogFooter,{children:[(0,b.jsx)(q.Button,{variant:"outline",onClick:()=>as(null),children:"Hủy"}),(0,b.jsx)(q.Button,{variant:"destructive",onClick:aF,children:"Xóa"})]})]})}),(0,b.jsx)(v.Dialog,{open:!!_,onOpenChange:a=>!a&&!ab&&aa(null),children:(0,b.jsxs)(v.DialogContent,{children:[(0,b.jsxs)(v.DialogHeader,{children:[(0,b.jsx)(v.DialogTitle,{children:"Xác nhận xóa"}),(0,b.jsx)(v.DialogDescription,{children:"Bạn có chắc chắn muốn xóa bài viết này? Hành động này không thể hoàn tác."})]}),(0,b.jsxs)(v.DialogFooter,{children:[(0,b.jsx)(q.Button,{variant:"outline",onClick:()=>aa(null),disabled:ab,children:"Hủy"}),(0,b.jsx)(q.Button,{variant:"destructive",onClick:()=>_&&aI(_),disabled:ab,children:ab?"Đang xóa...":"Xóa"})]})]})})]})})}function C(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(d.AdminLayout,{children:(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600",children:"Đang tải..."})]})})}),children:(0,b.jsx)(B,{})})}a.s(["default",()=>C],22311)}];

//# sourceMappingURL=Desktop_nguyenvanhieu-bookapp_src_app_admin_articles_page_tsx_fdcc45bf._.js.map