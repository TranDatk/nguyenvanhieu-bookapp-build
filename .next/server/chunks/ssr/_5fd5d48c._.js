module.exports=[77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},25362,a=>{"use strict";var b=a.i(72131),c=a.i(33217),d=a.i(3159);let e={all:["articles"],lists:()=>[...e.all,"list"],list:a=>[...e.lists(),{filters:a}],details:()=>[...e.all,"detail"],detail:a=>[...e.details(),a]};async function f(){let a=await fetch("/api/articles");if(!a.ok)throw Error("Failed to fetch articles");return a.json()}async function g(a){let b=new URLSearchParams;a.page&&b.append("page",a.page.toString()),a.limit&&b.append("limit",a.limit.toString()),a.search&&b.append("search",a.search),a.category&&b.append("category",a.category),a.status&&b.append("status",a.status);let c=await fetch(`/api/articles?${b.toString()}`);if(!c.ok)throw Error("Failed to fetch articles");return c.json()}function h(){let{setArticles:a}=(0,d.useDataStore)(),g=(0,c.useQuery)({queryKey:e.all,queryFn:f});return b.default.useEffect(()=>{g.data&&a(g.data)},[g.data,a]),g}function i(a){return(0,c.useQuery)({queryKey:[...e.all,"paginated",a],queryFn:()=>g(a)})}a.s(["useArticles",()=>h,"useArticlesPaginated",()=>i])},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},27081,a=>{"use strict";var b=a.i(72131);function c(){let[a,c]=(0,b.useState)(null),[d,e]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/users");if(a.ok){let b=(await a.json()).find(a=>"admin"===a.role);c(b||null)}}catch(a){console.error("Error fetching admin user:",a)}finally{e(!1)}})()},[]),{adminUser:a,isLoading:d}}a.s(["useAdminUser",()=>c])},90786,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(25362),g=a.i(3159),h=a.i(27081),i=a.i(41675),j=a.i(77156),k=a.i(68114);function l({content:a,className:c}){return(0,b.jsx)("div",{className:(0,k.cn)("article-content prose prose-lg prose-slate max-w-none","prose-headings:font-serif prose-headings:font-bold prose-headings:text-slate-900","prose-h1:text-4xl prose-h1:mt-8 prose-h1:mb-4","prose-h2:text-3xl prose-h2:mt-6 prose-h2:mb-3","prose-h3:text-2xl prose-h3:mt-4 prose-h3:mb-2","prose-p:text-slate-700 prose-p:leading-relaxed prose-p:my-4","prose-a:text-[#0f294d] prose-a:underline prose-a:decoration-2 prose-a:underline-offset-2","prose-a:hover:text-[#d4af37] prose-a:transition-colors","prose-strong:text-slate-900 prose-strong:font-semibold","prose-em:text-slate-700 prose-em:italic","prose-ul:my-4 prose-ul:pl-6","prose-ol:my-4 prose-ol:pl-6","prose-li:my-2 prose-li:text-slate-700","prose-blockquote:border-l-4 prose-blockquote:border-[#d4af37]","prose-blockquote:pl-4 prose-blockquote:pr-4 prose-blockquote:py-2","prose-blockquote:bg-slate-50 prose-blockquote:italic prose-blockquote:text-slate-600","prose-blockquote:my-6","prose-img:rounded-lg prose-img:shadow-md prose-img:my-6","prose-img:max-w-full prose-img:h-auto","prose-code:bg-slate-100 prose-code:px-1.5 prose-code:py-0.5","prose-code:rounded prose-code:text-sm prose-code:font-mono","prose-code:text-slate-800","prose-pre:bg-slate-900 prose-pre:text-slate-100","prose-pre:rounded-lg prose-pre:p-4 prose-pre:overflow-x-auto","prose-pre:my-6",c),dangerouslySetInnerHTML:{__html:a}})}var m=a.i(72233),n=a.i(99096);function o(){let{id:a}=(0,d.useParams)(),{data:k=[],refetch:o}=(0,f.useArticles)(),p=(0,g.useDataStore)(),{adminUser:q}=(0,h.useAdminUser)(),r=k.find(b=>b.id===a)||p.articles.find(b=>b.id===a);if((0,c.useEffect)(()=>{r?.id},[r?.id]),!r)return(0,b.jsx)("div",{className:"p-20 text-center",children:"Không tìm thấy bài viết"});let s={"@context":"https://schema.org","@type":"BlogPosting",headline:r.title,description:r.summary||r.content?.substring(0,160)||`B\xe0i viết "${r.title}"`,image:r.imageUrl,url:`https://songcunghieu.vn//articles/${r.id}`,datePublished:r.publishDate,author:{"@type":"Person",name:"Nguyễn Văn Hiếu"},publisher:{"@type":"Person",name:"Nguyễn Văn Hiếu"},articleSection:r.category};return(0,b.jsxs)("div",{className:"bg-white min-h-screen pb-20",children:[(0,b.jsx)(n.StructuredData,{data:s}),(0,b.jsxs)("div",{className:"relative h-64 md:h-96 w-full",children:[(0,b.jsx)("img",{src:r.imageUrl,alt:r.title,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-12 text-white container mx-auto",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsx)("span",{className:"bg-[#d4af37] text-white px-3 py-1 text-xs font-bold uppercase rounded mb-4 inline-block",children:r.category}),(0,b.jsx)("h1",{className:"font-serif text-3xl md:text-5xl font-bold leading-tight mb-4",children:r.title}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm opacity-90",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Calendar,{size:16})," ",(a=>{try{return new Date(a).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"})}catch{return a}})(r.publishDate)]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(m.Avatar,{className:"h-6 w-6",children:[(0,b.jsx)(m.AvatarImage,{src:q?.avatar,alt:q?.name||"Admin"}),(0,b.jsx)(m.AvatarFallback,{className:"bg-[#d4af37] text-white text-xs",children:q?.name?.[0]?.toUpperCase()||q?.email?.[0]?.toUpperCase()||"A"})]}),(0,b.jsx)("span",{children:q?.name||"Admin"})]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-blue-50 px-3 py-1 rounded-full",children:[(0,b.jsx)(j.Eye,{size:16,className:"text-blue-600"}),(0,b.jsx)("span",{className:"text-blue-700 font-medium",children:"Lượt xem"}),(0,b.jsx)("span",{className:"bg-blue-600 text-white font-bold px-2 py-0.5 rounded-full",children:r.views||0})]})]})]})})]}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto",children:[r.summary&&(0,b.jsx)("div",{className:"text-xl font-medium text-slate-700 leading-relaxed mb-8 border-l-4 border-[#d4af37] pl-6 italic",children:r.summary}),(0,b.jsx)(l,{content:r.content}),(0,b.jsx)("div",{className:"mt-12 pt-8 border-t border-slate-100",children:(0,b.jsx)(e.default,{href:"/articles",className:"text-[#d4af37] font-bold hover:underline",children:"← Quay lại danh sách bài viết"})})]})})]})}a.s(["default",()=>o],90786)}];

//# sourceMappingURL=_5fd5d48c._.js.map