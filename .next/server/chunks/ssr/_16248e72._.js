module.exports=[25362,a=>{"use strict";var b=a.i(72131),c=a.i(33217),d=a.i(3159);let e={all:["articles"],lists:()=>[...e.all,"list"],list:a=>[...e.lists(),{filters:a}],details:()=>[...e.all,"detail"],detail:a=>[...e.details(),a]};async function f(){let a=await fetch("/api/articles");if(!a.ok)throw Error("Failed to fetch articles");return a.json()}async function g(a){let b=new URLSearchParams;a.page&&b.append("page",a.page.toString()),a.limit&&b.append("limit",a.limit.toString()),a.search&&b.append("search",a.search),a.category&&b.append("category",a.category),a.status&&b.append("status",a.status);let c=await fetch(`/api/articles?${b.toString()}`);if(!c.ok)throw Error("Failed to fetch articles");return c.json()}function h(){let{setArticles:a}=(0,d.useDataStore)(),g=(0,c.useQuery)({queryKey:e.all,queryFn:f});return b.default.useEffect(()=>{g.data&&a(g.data)},[g.data,a]),g}function i(a){return(0,c.useQuery)({queryKey:[...e.all,"paginated",a],queryFn:()=>g(a)})}a.s(["useArticles",()=>h,"useArticlesPaginated",()=>i])},53854,a=>{"use strict";var b=a.i(72131),c=a.i(33217),d=a.i(41579),e=a.i(74684),f=class extends d.QueryObserver{constructor(a,b){super(a,b)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(a){super.setOptions({...a,behavior:(0,e.infiniteQueryBehavior)()})}getOptimisticResult(a){return a.behavior=(0,e.infiniteQueryBehavior)(),super.getOptimisticResult(a)}fetchNextPage(a){return this.fetch({...a,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(a){return this.fetch({...a,meta:{fetchMore:{direction:"backward"}}})}createResult(a,b){let{state:c}=a,d=super.createResult(a,b),{isFetching:f,isRefetching:g,isError:h,isRefetchError:i}=d,j=c.fetchMeta?.fetchMore?.direction,k=h&&"forward"===j,l=f&&"forward"===j,m=h&&"backward"===j,n=f&&"backward"===j;return{...d,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,e.hasNextPage)(b,c.data),hasPreviousPage:(0,e.hasPreviousPage)(b,c.data),isFetchNextPageError:k,isFetchingNextPage:l,isFetchPreviousPageError:m,isFetchingPreviousPage:n,isRefetchError:i&&!k&&!m,isRefetching:g&&!l&&!n}}},g=a.i(36339),h=a.i(3159);let i={all:["practices"],lists:()=>[...i.all,"list"],list:a=>[...i.lists(),{filters:a}],details:()=>[...i.all,"detail"],detail:a=>[...i.details(),a]};async function j(){let a=await fetch("/api/practices");if(!a.ok)throw Error("Failed to fetch practices");return a.json()}async function k(a){let b=new URLSearchParams;a.page&&b.append("page",a.page.toString()),a.limit&&b.append("limit",a.limit.toString()),a.search&&b.append("search",a.search);let c=await fetch(`/api/practices?${b.toString()}`);if(!c.ok)throw Error("Failed to fetch practices");return c.json()}function l(){let{setPractices:a}=(0,h.useDataStore)(),d=(0,c.useQuery)({queryKey:i.all,queryFn:j});return b.default.useEffect(()=>{d.data&&a(d.data)},[d.data,a]),d}function m(a=5){var b;return b={queryKey:[...i.all,"infinite"],queryFn:({pageParam:b=1})=>k({page:b,limit:a}),getNextPageParam:a=>{if(a.currentPage<a.totalPages)return a.currentPage+1},initialPageParam:1},(0,g.useBaseQuery)(b,f,void 0)}a.s(["practiceKeys",0,i,"usePractices",()=>l,"usePracticesInfinite",()=>m],53854)},63588,a=>{"use strict";let b=(0,a.i(70106).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);a.s(["MessageSquare",()=>b],63588)},53722,a=>{"use strict";let b=(0,a.i(70106).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);a.s(["BookOpen",()=>b],53722)},5221,a=>{"use strict";var b=a.i(72131),c=a.i(33217),d=a.i(3159);let e={all:["books"],lists:()=>[...e.all,"list"],list:a=>[...e.lists(),{filters:a}],details:()=>[...e.all,"detail"],detail:a=>[...e.details(),a]};async function f(){let a=await fetch("/api/books");if(!a.ok)throw Error("Failed to fetch books");return a.json()}async function g(a){let b=new URLSearchParams;a.page&&b.append("page",a.page.toString()),a.limit&&b.append("limit",a.limit.toString()),a.search&&b.append("search",a.search),a.category&&b.append("category",a.category);let c=await fetch(`/api/books?${b.toString()}`);if(!c.ok)throw Error("Failed to fetch books");return c.json()}function h(){let{setBooks:a}=(0,d.useDataStore)(),g=(0,c.useQuery)({queryKey:e.all,queryFn:f});return b.default.useEffect(()=>{g.data&&a(g.data)},[g.data,a]),g}function i(a){return(0,c.useQuery)({queryKey:[...e.all,"paginated",a],queryFn:()=>g(a)})}a.s(["bookKeys",0,e,"useBooks",()=>h,"useBooksPaginated",()=>i])},50522,a=>{"use strict";var b=a.i(11989);a.s(["ChevronRight",()=>b.default])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},10179,a=>{"use strict";var b=a.i(87924),c=a.i(97292),d=a.i(5221),e=a.i(25362),f=a.i(53722),g=a.i(4720),h=a.i(60246),i=a.i(63588),j=a.i(15618);let k=(0,a.i(70106).default)("file-pen",[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]]);var l=a.i(38246),m=a.i(91119),n=a.i(99570),o=a.i(86304);function p(){let{data:a=[]}=(0,d.useBooks)(),{data:p=[]}=(0,e.useArticles)(),r=a.length,s=p.length,t=a.reduce((a,b)=>a+b.comments.length,0),u=a.reduce((a,b)=>a+b.views,0),v=[...a].sort((a,b)=>new Date(b.publishDate).getTime()-new Date(a.publishDate).getTime()).slice(0,3),w=[...p].sort((a,b)=>new Date(b.publishDate).getTime()-new Date(a.publishDate).getTime()).slice(0,3);return(0,b.jsx)(c.AdminLayout,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Tổng quan"}),(0,b.jsx)("p",{className:"text-slate-600 mt-1",children:"Chào mừng trở lại, đây là tình hình hoạt động hôm nay."})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(n.Button,{asChild:!0,children:(0,b.jsxs)(l.default,{href:"/admin/articles?action=create",children:[(0,b.jsx)(k,{size:18}),"Viết bài"]})}),(0,b.jsx)(n.Button,{asChild:!0,children:(0,b.jsxs)(l.default,{href:"/admin/books?action=create",children:[(0,b.jsx)(j.Plus,{size:18}),"Thêm sách mới"]})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)(q,{title:"Tổng số sách",value:r,change:"+5%",changeType:"positive",icon:f.BookOpen,iconColor:"text-blue-600",bgColor:"bg-blue-50"}),(0,b.jsx)(q,{title:"Bài viết",value:s,change:"+12%",changeType:"positive",icon:g.FileText,iconColor:"text-green-600",bgColor:"bg-green-50"}),(0,b.jsx)(q,{title:"Bình luận mới",value:t,change:"+2%",changeType:"positive",icon:i.MessageSquare,iconColor:"text-orange-600",bgColor:"bg-orange-50"}),(0,b.jsx)(q,{title:"Lượt xem",value:u.toLocaleString(),change:"+8%",changeType:"positive",icon:h.Users,iconColor:"text-purple-600",bgColor:"bg-purple-50"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(m.Card,{children:[(0,b.jsx)(m.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(m.CardTitle,{children:"Sách gần đây"}),(0,b.jsx)(n.Button,{variant:"link",asChild:!0,className:"h-auto p-0",children:(0,b.jsx)(l.default,{href:"/admin/books",children:"Xem tất cả"})})]})}),(0,b.jsx)(m.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:v.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-4 p-3 hover:bg-slate-50 rounded-lg transition-colors",children:[(0,b.jsx)("div",{className:"w-12 h-16 bg-slate-200 rounded overflow-hidden shrink-0",children:(0,b.jsx)("img",{src:a.coverUrl,alt:a.title,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-medium text-slate-900 truncate",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:a.author}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:a.category})]}),(0,b.jsx)(o.Badge,{variant:"outline",className:"bg-green-100 text-green-700 border-green-200",children:"Đã xuất bản"})]},a.id))})})]}),(0,b.jsxs)(m.Card,{children:[(0,b.jsx)(m.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(m.CardTitle,{children:"Bài viết gần đây"}),(0,b.jsx)(n.Button,{variant:"link",asChild:!0,className:"h-auto p-0",children:(0,b.jsx)(l.default,{href:"/admin/articles",children:"Xem tất cả"})})]})}),(0,b.jsx)(m.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:w.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-4 p-3 hover:bg-slate-50 rounded-lg transition-colors",children:[(0,b.jsx)("div",{className:"w-16 h-12 bg-slate-200 rounded overflow-hidden shrink-0",children:(0,b.jsx)("img",{src:a.imageUrl,alt:a.title,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-medium text-slate-900 truncate",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:a.category}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:a.publishDate})]}),(0,b.jsx)(o.Badge,{variant:"outline",className:"bg-green-100 text-green-700 border-green-200",children:"Đã xuất bản"})]},a.id))})})]})]})]})})}function q({title:a,value:c,change:d,changeType:e,icon:f,iconColor:g,bgColor:h}){return(0,b.jsx)(m.Card,{children:(0,b.jsxs)(m.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:`w-12 h-12 ${h} rounded-lg flex items-center justify-center`,children:(0,b.jsx)(f,{size:24,className:g})}),(0,b.jsx)("span",{className:`text-sm font-medium ${"positive"===e?"text-green-600":"text-red-600"}`,children:d})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:c}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:a})]})]})})}a.s(["default",()=>p],10179)}];

//# sourceMappingURL=_16248e72._.js.map