module.exports=[84375,a=>{"use strict";var b=a.i(14206),c=a.i(32139),d=a.i(26639);let e={all:["books"],lists:()=>[...e.all,"list"],list:a=>[...e.lists(),{filters:a}],details:()=>[...e.all,"detail"],detail:a=>[...e.details(),a]};async function f(){let a=await fetch("/api/books");if(!a.ok)throw Error("Failed to fetch books");return a.json()}async function g(a){let b=new URLSearchParams;a.page&&b.append("page",a.page.toString()),a.limit&&b.append("limit",a.limit.toString()),a.search&&b.append("search",a.search),a.category&&b.append("category",a.category);let c=await fetch(`/api/books?${b.toString()}`);if(!c.ok)throw Error("Failed to fetch books");return c.json()}function h(){let{setBooks:a}=(0,d.useDataStore)(),g=(0,c.useQuery)({queryKey:e.all,queryFn:f});return b.default.useEffect(()=>{g.data&&a(g.data)},[g.data,a]),g}function i(a){return(0,c.useQuery)({queryKey:[...e.all,"paginated",a],queryFn:()=>g(a)})}a.s(["bookKeys",0,e,"useBooks",()=>h,"useBooksPaginated",()=>i])},48869,a=>{"use strict";var b=a.i(93726);a.s(["ChevronRight",()=>b.default])},10758,a=>{"use strict";let b=(0,a.i(38808).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],10758)},93639,a=>{"use strict";let b=(0,a.i(38808).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],93639)},39047,a=>{"use strict";var b=a.i(51112),c=a.i(75593);let d=(0,a.i(38808).default)("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);var e=a.i(10758);a.s(["BookCard",0,({book:a})=>(0,b.jsxs)("div",{className:"group bg-white rounded-sm overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-slate-100 flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"relative aspect-[2/3] overflow-hidden bg-slate-200",children:[(0,b.jsx)("img",{src:a.coverUrl,alt:a.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,b.jsx)(c.default,{href:`/books/${a.id}`,className:"bg-white text-[#0f294d] px-6 py-2 rounded-full text-sm font-bold uppercase tracking-wider transform translate-y-4 group-hover:translate-y-0 transition-all duration-300 hover:bg-[#d4af37] hover:text-white",children:"Đọc ngay"})})]}),(0,b.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,b.jsx)("div",{className:"text-xs text-[#d4af37] font-bold uppercase mb-1 tracking-wider",children:a.category}),(0,b.jsx)(c.default,{href:`/books/${a.id}`,className:"block",children:(0,b.jsx)("h3",{className:"font-serif text-lg font-bold text-slate-800 mb-2 line-clamp-2 hover:text-[#d4af37] transition-colors",children:a.title})}),(0,b.jsxs)("div",{className:"mt-auto pt-4 border-t border-slate-100 flex items-center justify-between text-slate-500 text-xs",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(d,{size:14}),(0,b.jsx)("span",{children:a.author})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 bg-blue-50 px-2 py-0.5 rounded-full",children:[(0,b.jsx)(e.Eye,{size:12,className:"text-blue-600"}),(0,b.jsx)("span",{className:"text-blue-700 font-medium text-xs",children:"Lượt xem"}),(0,b.jsx)("span",{className:"bg-blue-600 text-white font-bold text-xs px-1.5 py-0.5 rounded-full",children:a.views||0})]})]})]})]})],39047)},29372,a=>{"use strict";var b=a.i(51112),c=a.i(14206),d=a.i(84375),e=a.i(39047),f=a.i(93639),g=a.i(48869);function h(){let[a,h]=(0,c.useState)(1),{data:i,isLoading:j,error:k}=(0,d.useBooksPaginated)({page:a,limit:6}),l=i?.books||[],m=i?.totalPages||0;i?.total;let n=a=>{h(a),window.scrollTo({top:0,behavior:"smooth"})};return(0,b.jsx)("div",{className:"bg-slate-50 min-h-screen py-16",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)("div",{className:"text-center mb-16",children:[(0,b.jsx)("h1",{className:"font-serif text-4xl font-bold text-[#0f294d] mb-4",children:"Tủ Sách"}),(0,b.jsx)("p",{className:"text-slate-600 max-w-2xl mx-auto",children:"Khám phá những tác phẩm tâm huyết, từ tự truyện, sức khoẻ và đời sống thể thao."})]}),j?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600",children:"Đang tải..."})]})}):k?(0,b.jsx)("div",{className:"text-center py-20",children:(0,b.jsx)("p",{className:"text-red-600",children:"Có lỗi xảy ra khi tải dữ liệu"})}):0===l.length?(0,b.jsx)("div",{className:"text-center py-20",children:(0,b.jsx)("p",{className:"text-slate-500",children:"Chưa có sách nào"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:l.map(a=>(0,b.jsx)(e.BookCard,{book:a},a.id))}),m>1&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-12",children:[(0,b.jsx)("button",{onClick:()=>n(a-1),disabled:1===a,className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Trang trước",children:(0,b.jsx)(f.ChevronLeft,{size:20})}),(0,b.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:m},(a,b)=>b+1).map(c=>1===c||c===m||c>=a-1&&c<=a+1?(0,b.jsx)("button",{onClick:()=>n(c),className:`px-4 py-2 rounded-lg border transition-colors ${a===c?"bg-[#0f294d] text-white border-[#0f294d]":"border-slate-300 hover:bg-slate-100"}`,children:c},c):c===a-2||c===a+2?(0,b.jsx)("span",{className:"px-2",children:"..."},c):null)}),(0,b.jsx)("button",{onClick:()=>n(a+1),disabled:a===m,className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Trang sau",children:(0,b.jsx)(g.ChevronRight,{size:20})})]})]})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=Desktop_nguyenvanhieu-bookapp_933fbe50._.js.map